:original_name: admin_guide_000027.html

.. _admin_guide_000027:

Overview
========

Dashboard
---------

Log in to MRS Manager. Choose **Cluster**, click the name of the desired cluster, and choose **Services**. The service management page is displayed, including the functional area and service list.

Functional Area
---------------

In the functional area of the service management page, you can select a view type and filter and search for services by service type. You can use the advanced search to select required services based on the running status and configuration status.

Service List
------------

The service list on the service management page contains all installed services in the cluster. If the tile view is selected, the services will be displayed in pane style. If you select the list view, the services will be displayed in a table.

.. note::

   In this section, the **Tile View** is used by default.

The service list displays the running status, configuration status, role type, and number of instances of each service. On this page, you can perform some service maintenance tasks, such as starting, stopping, and restarting services.

.. table:: **Table 1** Service running status

   +-----------------------+----------------------------------------------------------------------+
   | Status                | Description                                                          |
   +=======================+======================================================================+
   | **Normal**            | Indicates that the service is running properly.                      |
   +-----------------------+----------------------------------------------------------------------+
   | **Faulty**            | Indicates that the service cannot run properly.                      |
   +-----------------------+----------------------------------------------------------------------+
   | **Partially Healthy** | Indicates that some enhanced functions of the service are abnormal.  |
   +-----------------------+----------------------------------------------------------------------+
   | **Not started**       | Indicates that the service is stopped.                               |
   +-----------------------+----------------------------------------------------------------------+
   | **Unknown**           | Indicates that the initial status of the service cannot be detected. |
   +-----------------------+----------------------------------------------------------------------+
   | **Starting**          | Indicates that the service is being started.                         |
   +-----------------------+----------------------------------------------------------------------+
   | **Stopping**          | Indicates that the service is being stopped.                         |
   +-----------------------+----------------------------------------------------------------------+
   | **Failed to start**   | Indicates that the service fails to be started.                      |
   +-----------------------+----------------------------------------------------------------------+
   | **Failed to stop**    | Indicates that the service fails to be stopped.                      |
   +-----------------------+----------------------------------------------------------------------+

.. note::

   -  If the running status of a service is **Faulty**, an alarm is generated. Rectify the fault based on the alarm information.
   -  HBase, Hive, Spark, and Loader may be in the **Subhealthy** state.

      -  If Yarn is installed but is abnormal, HBase is in the **Subhealthy** state. If the multi-instance function is enabled, all installed HBase service instances are in the **Subhealthy** state.
      -  If HBase is installed but is abnormal, Hive, Spark, and Loader are in the **Subhealthy** state.
      -  If any HBase instance is installed but is abnormal after the multi-instance function is enabled, Loader is in the **Subhealthy** state.
      -  If an HBase instance is installed but is abnormal after the multi-instance function is enabled, the Hive and Spark instances that map to the HBase instance are in the **Subhealthy** state. That is, if HBase 2 is installed but is abnormal, Hive 2 and Spark2 are in the **Subhealthy** state.

.. table:: **Table 2** Service configuration status

   +-------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Status            | Description                                                                                                                                                                                                                                                                                       |
   +===================+===================================================================================================================================================================================================================================================================================================+
   | **Synchronized**  | Indicates that all service parameter settings have taken effect in the cluster.                                                                                                                                                                                                                   |
   +-------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | **Expired**       | Indicates that the latest configuration is not synchronized and does not take effect after the service parameters are modified. You need to synchronize the configurations and restart the services. You can click |image2| next to **Configuration Status** to view expired configuration items. |
   +-------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | **Failed**        | Indicates that a communication or read/write exception occurs during the parameter configuration synchronization. Use **Synchronize Configuration** to rectify the fault.                                                                                                                         |
   +-------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | **Synchronizing** | Indicates that the service parameter configuration is being synchronized.                                                                                                                                                                                                                         |
   +-------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | **Unknown**       | Indicates that the initial status of the service cannot be detected.                                                                                                                                                                                                                              |
   +-------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

You can click a service in the service list to perform simple maintenance and management operations on the service, as described in :ref:`Table 3 <admin_guide_000027__table17943743105914>`.

.. _admin_guide_000027__table17943743105914:

.. table:: **Table 3** Basic maintenance and management

   +-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Menu Item on the UI               | Description                                                                                                                                                                                                                                                                                                                                                                                               |
   +===================================+===========================================================================================================================================================================================================================================================================================================================================================================================================+
   | Start Service                     | Start a specified service in the cluster.                                                                                                                                                                                                                                                                                                                                                                 |
   +-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Stop Service                      | Stop a specified service in the cluster.                                                                                                                                                                                                                                                                                                                                                                  |
   +-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Restart Service                   | Restart a specified service in the cluster.                                                                                                                                                                                                                                                                                                                                                               |
   |                                   |                                                                                                                                                                                                                                                                                                                                                                                                           |
   |                                   | .. note::                                                                                                                                                                                                                                                                                                                                                                                                 |
   |                                   |                                                                                                                                                                                                                                                                                                                                                                                                           |
   |                                   |    If a service is restarted, other services that depend on this service will be unavailable. Therefore, select **Restart upper-layer services**. Determine whether to perform this operation based on the displayed service list. Services are restarted one by one due to their dependency. :ref:`Table 4 <admin_guide_000027__table1143215941919>` describes the restart duration of a single service. |
   +-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Service Rolling Restart           | Restart a specified service in the cluster without interrupting services. For details about the parameter settings, see :ref:`Table 1 <admin_guide_000012__en-us_topic_0118210076_t65f951fcfc8a4a37b6c7f3481125fe35>`.                                                                                                                                                                                    |
   +-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | **Synchronize Configuration**     | -  Enable new configuration parameters for a specified service in the cluster.                                                                                                                                                                                                                                                                                                                            |
   |                                   | -  Distribute new configuration parameters for services whose **Configuration Status** is **Expired**.                                                                                                                                                                                                                                                                                                    |
   |                                   |                                                                                                                                                                                                                                                                                                                                                                                                           |
   |                                   | .. note::                                                                                                                                                                                                                                                                                                                                                                                                 |
   |                                   |                                                                                                                                                                                                                                                                                                                                                                                                           |
   |                                   |    After some services are synchronized, restart the services for the settings to take effect.                                                                                                                                                                                                                                                                                                            |
   +-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _admin_guide_000027__table1143215941919:

.. table:: **Table 4** Restart duration

   +-----------------+------------------+-----------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Service         | Restart Duration | Startup Duration            | Remarks                                                                                                                                                                                                                               |
   +=================+==================+=============================+=======================================================================================================================================================================================================================================+
   | ClickHouse      | 4 min            | ClickHouseServer: 2 min     | ``-``                                                                                                                                                                                                                                 |
   |                 |                  |                             |                                                                                                                                                                                                                                       |
   |                 |                  | ClickHouseBalancer: 2 min   |                                                                                                                                                                                                                                       |
   +-----------------+------------------+-----------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | HDFS            | 10min+x          | NameNode: 4 min + x         | *x* indicates the NameNode metadata loading duration. It takes about 2 minutes to load 10,000,000 files. For example, *x* is 10 minutes for 50 million files. The startup duration fluctuates with reporting of DataNode data blocks. |
   |                 |                  |                             |                                                                                                                                                                                                                                       |
   |                 |                  | DataNode: 2 min             |                                                                                                                                                                                                                                       |
   |                 |                  |                             |                                                                                                                                                                                                                                       |
   |                 |                  | JournalNode: 2 min          |                                                                                                                                                                                                                                       |
   |                 |                  |                             |                                                                                                                                                                                                                                       |
   |                 |                  | Zkfc: 2 min                 |                                                                                                                                                                                                                                       |
   +-----------------+------------------+-----------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Yarn            | 5 min + x        | ResourceManager: 3 min + x  | *x* indicates the time required for restoring ResourceManager reserved tasks. It takes about 1 minute to restore 10,000 reserved tasks.                                                                                               |
   |                 |                  |                             |                                                                                                                                                                                                                                       |
   |                 |                  | NodeManager: 2 min          |                                                                                                                                                                                                                                       |
   +-----------------+------------------+-----------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | MapReduce       | 2 min + x        | JobHistoryServer: 2 min + x | *x* indicates the scanning duration of historical tasks. It takes about 2.5 minutes to scan 100,000 tasks.                                                                                                                            |
   +-----------------+------------------+-----------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ZooKeeper       | 2 min + x        | quorumpeer: 2 min + x       | *x* indicates the duration for loading znodes. It takes about 1 minute to load 1 million znodes.                                                                                                                                      |
   +-----------------+------------------+-----------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Hive            | 3.5 min          | HiveServer: 3 min           | ``-``                                                                                                                                                                                                                                 |
   |                 |                  |                             |                                                                                                                                                                                                                                       |
   |                 |                  | MetaStore: 1 min 30s        |                                                                                                                                                                                                                                       |
   |                 |                  |                             |                                                                                                                                                                                                                                       |
   |                 |                  | WebHcat: 1 min              |                                                                                                                                                                                                                                       |
   |                 |                  |                             |                                                                                                                                                                                                                                       |
   |                 |                  | Hive service: 3 min         |                                                                                                                                                                                                                                       |
   +-----------------+------------------+-----------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Spark2x         | 5 min            | JobHistory2x: 5 min         | ``-``                                                                                                                                                                                                                                 |
   |                 |                  |                             |                                                                                                                                                                                                                                       |
   |                 |                  | SparkResource2x: 5 min      |                                                                                                                                                                                                                                       |
   |                 |                  |                             |                                                                                                                                                                                                                                       |
   |                 |                  | JDBCServer2x: 5 min         |                                                                                                                                                                                                                                       |
   +-----------------+------------------+-----------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Flink           | 4 min            | FlinkResource: 1 min        | ``-``                                                                                                                                                                                                                                 |
   |                 |                  |                             |                                                                                                                                                                                                                                       |
   |                 |                  | FlinkServer: 3 min          |                                                                                                                                                                                                                                       |
   +-----------------+------------------+-----------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Kafka           | 2 min + x        | Broker: 1 min + x           | *x* indicates the data restoration duration. It takes about 2 minutes to start 20,000 partitions for a single instance.                                                                                                               |
   +-----------------+------------------+-----------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Storm           | 6 min            | Nimbus: 3 min               | ``-``                                                                                                                                                                                                                                 |
   |                 |                  |                             |                                                                                                                                                                                                                                       |
   |                 |                  | UI: 1 min                   |                                                                                                                                                                                                                                       |
   |                 |                  |                             |                                                                                                                                                                                                                                       |
   |                 |                  | Supervisor: 1 min           |                                                                                                                                                                                                                                       |
   |                 |                  |                             |                                                                                                                                                                                                                                       |
   |                 |                  | Logviewer: 1 min            |                                                                                                                                                                                                                                       |
   +-----------------+------------------+-----------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Flume           | 3 min            | Flume: 2 min                | ``-``                                                                                                                                                                                                                                 |
   |                 |                  |                             |                                                                                                                                                                                                                                       |
   |                 |                  | MonitorServer: 1 min        |                                                                                                                                                                                                                                       |
   +-----------------+------------------+-----------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. |image1| image:: /_static/images/en-us_image_0000001442773661.png
.. |image2| image:: /_static/images/en-us_image_0000001442773661.png
