:original_name: admin_guide_000257.html

.. _admin_guide_000257:

Changing the Password for a Component Running User
==================================================

Scenario
--------

It is recommended that the administrator periodically change the password for each component running user to improve the system O&M security.

Component running users can be classified into the following two types depending on whether their initial passwords are randomly generated by the system:

-  If the initial password of a component running user is randomly generated by the system, the user is of the machine-machine type.
-  If the initial password of a component running user is not randomly generated by the system, the user is of the human-machine type.

Impact on the System
--------------------

If the initial password is randomly generated by the system, the cluster needs to be restarted for the password changing to take effect. Services are unavailable during the restart.

Prerequisites
-------------

You have installed the client on any node in the cluster and obtained the IP address of the node.

Procedure
---------

#. Log in to the node where the client is installed as the client installation user

#. Run the following command to switch to the client directory, for example, **/opt/client**:

   **cd /opt/client**

#. Run the following command to set environment variables:

   **source bigdata_env**

#. Run the following command and enter the password of user **kadmin/admin** to log in to the **kadmin** console:

   **kadmin -p kadmin/admin**

   .. note::

      The default password of user **kadmin/admin**, **Admin@123**, will expire upon your first login. Change the password as prompted and keep the new password secure.

#. Run the following command to change the password of an internal component running user. The password changing takes effect on all servers.

   **cpw** *Internal system username*

   For example: **cpw oms/manager**

   The password must meet the following complexity requirements by default:

   -  The password contains at least 8 characters.
   -  The password contains at least four types of the following characters: Uppercase letters, lowercase letters, digits, spaces, and special characters which can only be\ :literal:`~`!?,.;-_'(){}[]/<>@#$%^&*+|\\=.`
   -  The password cannot be the same as the username or the username spelled backwards.
   -  The password cannot be a common easily-cracked passwords, for example, **Admin@12345**.
   -  The password cannot be the same as the password used in latest *N* times. *N* indicates the value of **Number of Historical Passwords** configured in :ref:`Configuring Password Policies <admin_guide_000150>`. This policy applies to only human-machine accounts.

   .. note::

      Run the following command to check user information:

      **getprinc** *Internal system username*

      For example: **getprinc oms/manager**

#. Determine the type of the user whose password needs to be changed.

   -  If the user is a machine-machine user, go to :ref:`7 <admin_guide_000257__li22669737114334>`.
   -  If the user is a human-machine user, the password is changed successfully and no further action is required.

#. .. _admin_guide_000257__li22669737114334:

   Log in to MRS Manager.

#. Click **Cluster**, click the name of the desired cluster, and choose **More** > **Restart**.

#. In the displayed window, enter the password of the current login user and click **OK**.

#. In the displayed restart confirmation dialog box, click **OK**.

#. Wait for message "Operation successful" to display.
