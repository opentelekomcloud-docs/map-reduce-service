:original_name: mrs_01_0121.html

.. _mrs_01_0121:

Creating a Custom Topology Cluster
==================================

The analysis cluster, streaming cluster, and hybrid cluster provided by MRS use fixed templates to deploy cluster processes. Therefore, you cannot customize service processes on management nodes and control nodes.

A custom cluster provides the following functions:

-  Separated deployment of the management and control roles: The management role and control role are deployed on different Master nodes.
-  Co-deployment of the management and control roles: The management and control roles are co-deployed on the Master node.
-  ZooKeeper is deployed on an independent node to improve reliability.
-  Components are deployed separately to avoid resource contention.

Roles in an MRS cluster:

-  Management Node (MN): is the node to install Manager (the management system of the MRS cluster). It provides a unified access entry. Manager centrally manages nodes and services deployed in the cluster.
-  Control Node (CN): controls and monitors how data nodes store and receive data, and send process status, and provides other public functions. Control nodes of MRS include HMaster, HiveServer, ResourceManager, NameNode, JournalNode, and SlapdServer.
-  Data Node (DN): A data node executes the instructions sent by the management node, reports task status, stores data, and provides other public functions. Data nodes of MRS include DataNode, RegionServer, and NodeManager.

Customizing a Cluster
---------------------

#. Log in to the MRS console.

#. Click **Create Cluster**. The page for creating a cluster is displayed.

#. Click the **Custom Config** tab.

#. Configure basic cluster information. For details about the parameters, see :ref:`Software Configurations <mrs_01_0513__section48591411155214>`.

   -  **Region**: Retain the default value.
   -  **Cluster Name**: You can use the default name. However, you are advised to include a project name abbreviation or date for consolidated memory and easy distinguishing, for example, **mrs_20180321**.
   -  **Cluster Version**: Currently, only MRS 3.x are supported.

#. Click **Next**. Configure hardware information.

   -  **AZ**: Retain the default value.
   -  **VPC**: Retain the default value. If there is no available VPC, click **View VPC** to access the VPC console and create a new VPC.
   -  **Subnet**: Retain the default value.
   -  **Security Group**: Select **Auto create**.
   -  **EIP**: Select **Bind later**.
   -  **Enterprise Project**: Retain the default value.
   -  **Common Node**: For details, see :ref:`Custom Cluster Template Description <mrs_01_0121__section126281336123311>`.
   -  **Instance Specifications**: Click |image1| to configure the instance specifications, system disk and data disk storage types, and storage space.
   -  **Instance Count**: Adjust the number of cluster instances based on the service volume. For details, see :ref:`Table 2 <mrs_01_0121__net>`.
   -  **Topology Adjustment**: If the deployment mode in the **Common Node** does not meet the requirements, you need to manually install some instances that are not deployed by default, or you need to manually install some instances, set **Topology Adjustment** to **Enable** and adjust the instance deployment mode based on service requirements. For details, see :ref:`Topology Adjustment for a Custom Cluster <mrs_01_0121__section1948791193417>`.

#. Click **Next** and set advanced options.

   For details about the parameters, see :ref:`(Optional) Advanced Configuration <mrs_01_0513__section15766698552>`.

#. Click **Create** **Now**.

   If Kerberos authentication is enabled for a cluster, check whether Kerberos authentication is required. If yes, click **Continue**. If no, click **Back** to disable Kerberos authentication and then create a cluster.

#. Click **Back to Cluster List** to view the cluster status.

   It takes some time to create a cluster. The initial status of the cluster is **Starting**. After the cluster has been created successfully, the cluster status becomes **Running**.

.. _mrs_01_0121__section126281336123311:

Custom Cluster Template Description
-----------------------------------

.. table:: **Table 1** Common templates for custom clusters

   +-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Common Node           | Description                                                                                                                                                                                                                                                                                           | Node Range                                                                                                                                               |
   +=======================+=======================================================================================================================================================================================================================================================================================================+==========================================================================================================================================================+
   | Compact               | The management role and control role are deployed on the Master node, and data instances are deployed in the same node group. This deployment mode applies to scenarios where the number of control nodes is less than 100, reducing costs.                                                           | -  The number of Master nodes is greater than or equal to 3 and less than or equal to 11.                                                                |
   |                       |                                                                                                                                                                                                                                                                                                       | -  The total number of node groups is less than or equal to 10, and the total number of nodes in non-Master node groups is less than or equal to 10,000. |
   +-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+
   | OMS-separate          | The management role and control role are deployed on different Master nodes, and data instances are deployed in the same node group. This deployment mode is applicable to a cluster with 100 to 500 nodes and delivers better performance in high-concurrency load scenarios.                        | -  The number of Master nodes is greater than or equal to 5 and less than or equal to 11.                                                                |
   |                       |                                                                                                                                                                                                                                                                                                       | -  The total number of node groups is less than or equal to 10, and the total number of nodes in non-Master node groups is less than or equal to 10,000. |
   +-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Full-size             | The management role and control role are deployed on different Master nodes, and data instances are deployed in different node groups. This deployment mode is applicable to a cluster with more than 500 nodes. Components can be deployed separately, which can be used for a larger cluster scale. | -  The number of Master nodes is greater than or equal to 9 and less than or equal to 11.                                                                |
   |                       |                                                                                                                                                                                                                                                                                                       | -  The total number of node groups is less than or equal to 10, and the total number of nodes in non-Master node groups is less than or equal to 10,000. |
   +-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _mrs_01_0121__net:

.. table:: **Table 2** Node deployment scheme of a customized MRS cluster

   +-----------------------------------------------------------------------------------------------------------+--------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Node Deployment Principle                                                                                 |                          | Applicable Scenario                                                                                                                                                                                                                                                                                                                          | Networking Rule                                                                                                                                                                                                                                                                                         |
   +===========================================================================================================+==========================+==============================================================================================================================================================================================================================================================================================================================================+=========================================================================================================================================================================================================================================================================================================+
   | Management nodes, control nodes, and data nodes are deployed separately.                                  | MN x 2 + CN x 9 + DN x n | (Recommended) This scheme is used when the number of data nodes is 500-2000.                                                                                                                                                                                                                                                                 | -  If the number of nodes in a cluster exceeds 200, the nodes are distributed to different subnets and the subnets are interconnected with each other in Layer 3 using core switches. Each subnet can contain a maximum of 200 nodes and the allocation of nodes to different subnets must be balanced. |
   |                                                                                                           |                          |                                                                                                                                                                                                                                                                                                                                              | -  If the number of nodes is less than 200, the nodes in the cluster are deployed in the same subnet and the nodes are interconnected with each other in Layer 2 using aggregation switches.                                                                                                            |
   | (This scheme requires at least eight nodes.)                                                              |                          |                                                                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                         |
   +-----------------------------------------------------------------------------------------------------------+--------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |                                                                                                           | MN x 2 + CN x 5 + DN x n | (Recommended) This scheme is used when the number of data nodes is 100-500.                                                                                                                                                                                                                                                                  |                                                                                                                                                                                                                                                                                                         |
   +-----------------------------------------------------------------------------------------------------------+--------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   |                                                                                                           | MN x 2 + CN x 3 + DN x n | (Recommended) This scheme is used when the number of data nodes is 30-100.                                                                                                                                                                                                                                                                   |                                                                                                                                                                                                                                                                                                         |
   +-----------------------------------------------------------------------------------------------------------+--------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | The management nodes and control nodes are deployed together, and the data nodes are deployed separately. | (MN+CN) x 3 + DN x n     | (Recommended) This scheme is used when the number of data nodes is 3-30.                                                                                                                                                                                                                                                                     | Nodes in the cluster are deployed in the same subnet and are interconnected with each other at Layer 2 through aggregation switches.                                                                                                                                                                    |
   +-----------------------------------------------------------------------------------------------------------+--------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | The management nodes, control nodes, and data nodes are deployed together.                                |                          | -  This scheme is applicable to a cluster having fewer than 6 nodes.                                                                                                                                                                                                                                                                         | Nodes in the cluster are deployed in the same subnet and are interconnected with each other at Layer 2 through aggregation switches.                                                                                                                                                                    |
   |                                                                                                           |                          | -  This scheme requires at least three nodes.                                                                                                                                                                                                                                                                                                |                                                                                                                                                                                                                                                                                                         |
   |                                                                                                           |                          |                                                                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                         |
   |                                                                                                           |                          | .. note::                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                         |
   |                                                                                                           |                          |                                                                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                         |
   |                                                                                                           |                          |    This template is not recommended in the production environment or commercial environment.                                                                                                                                                                                                                                                 |                                                                                                                                                                                                                                                                                                         |
   |                                                                                                           |                          |                                                                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                         |
   |                                                                                                           |                          |    -  If management, control, and data nodes are co-deployed, cluster performance and reliability are greatly affected.                                                                                                                                                                                                                      |                                                                                                                                                                                                                                                                                                         |
   |                                                                                                           |                          |    -  If the number of nodes meet the requirements, deploy data nodes separately.                                                                                                                                                                                                                                                            |                                                                                                                                                                                                                                                                                                         |
   |                                                                                                           |                          |    -  If the number of nodes is insufficient to support separately deployed data nodes, use the dual-plane networking mode for this scenario. The traffic of the management network is isolated from that of the service network to prevent excessive data volumes on the service plane, ensuring correct delivery of management operations. |                                                                                                                                                                                                                                                                                                         |
   +-----------------------------------------------------------------------------------------------------------+--------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _mrs_01_0121__section1948791193417:

Topology Adjustment for a Custom Cluster
----------------------------------------

.. table:: **Table 3** Topology adjustment

   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   | Service     | Dependency               | Role                     | Role Deployment Suggestions                                                   | Description                                                                                                                             |
   +=============+==========================+==========================+===============================================================================+=========================================================================================================================================+
   | OMSServer   | ``-``                    | OMSServer                | This role can be deployed it on the Master node and cannot be modified.       | ``-``                                                                                                                                   |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   | ClickHouse  | Depends on ZooKeeper.    | CHS (ClickHouseServer)   | This role can be deployed on all nodes.                                       | A non-Master node group with this role assigned is considered as a Core node.                                                           |
   |             |                          |                          |                                                                               |                                                                                                                                         |
   |             |                          |                          | Number of role instances to be deployed: an even number ranging from 2 to 256 |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   |             |                          | CLB (ClickHouseBalancer) | This role can be deployed on all nodes.                                       | ``-``                                                                                                                                   |
   |             |                          |                          |                                                                               |                                                                                                                                         |
   |             |                          |                          | Number of role instances to be deployed: 2 to 256                             |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   | ZooKeeper   | ``-``                    | QP(quorumpeer)           | This role can be deployed on the Master node only.                            | ``-``                                                                                                                                   |
   |             |                          |                          |                                                                               |                                                                                                                                         |
   |             |                          |                          | Number of role instances to be deployed: 3 to 9, with the step size of 2      |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   | Hadoop      | Depends on ZooKeeper.    | NN(NameNode)             | This role can be deployed on the Master node only.                            | The NameNode and ZKFC processes are deployed on the same server for cluster HA.                                                         |
   |             |                          |                          |                                                                               |                                                                                                                                         |
   |             |                          |                          | Number of role instances to be deployed: 2                                    |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   |             |                          | HFS (HttpFS)             | This role can be deployed on the Master node only.                            | ``-``                                                                                                                                   |
   |             |                          |                          |                                                                               |                                                                                                                                         |
   |             |                          |                          | Number of role instances to be deployed: 0 to 10                              |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   |             |                          | JN(JournalNode)          | This role can be deployed on the Master node only.                            | ``-``                                                                                                                                   |
   |             |                          |                          |                                                                               |                                                                                                                                         |
   |             |                          |                          | Number of role instances to be deployed: 3 to 60, with the step size of 2     |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   |             |                          | DN(DataNode)             | This role can be deployed on all nodes.                                       | A non-Master node group with this role assigned is considered as a Core node.                                                           |
   |             |                          |                          |                                                                               |                                                                                                                                         |
   |             |                          |                          | Number of role instances to be deployed: 3 to 10,000                          |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   |             |                          | RM(ResourceManager)      | This role can be deployed on the Master node only.                            | ``-``                                                                                                                                   |
   |             |                          |                          |                                                                               |                                                                                                                                         |
   |             |                          |                          | Number of role instances to be deployed: 2                                    |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   |             |                          | NM(NodeManager)          | This role can be deployed on all nodes.                                       | ``-``                                                                                                                                   |
   |             |                          |                          |                                                                               |                                                                                                                                         |
   |             |                          |                          | Number of role instances to be deployed: 3 to 10,000                          |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   |             |                          | JHS(JobHistoryServer)    | This role can be deployed on the Master node only.                            | ``-``                                                                                                                                   |
   |             |                          |                          |                                                                               |                                                                                                                                         |
   |             |                          |                          | Number of role instances to be deployed: 1 to 2                               |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   |             |                          | TLS(TimelineServer)      | This role can be deployed on the Master node only.                            | ``-``                                                                                                                                   |
   |             |                          |                          |                                                                               |                                                                                                                                         |
   |             |                          |                          | Number of role instances to be deployed: 0 to 1                               |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   | Presto      | Depends on Hive.         | PCD(Coordinator)         | This role can be deployed on the Master node only.                            | ``-``                                                                                                                                   |
   |             |                          |                          |                                                                               |                                                                                                                                         |
   |             |                          |                          | Number of role instances to be deployed: 2                                    |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   |             |                          | PWK(Worker)              | This role can be deployed on all nodes.                                       | ``-``                                                                                                                                   |
   |             |                          |                          |                                                                               |                                                                                                                                         |
   |             |                          |                          | Number of role instances to be deployed: 1 to 10,000                          |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   | Spark2x     | -  Depends on Hadoop.    | JS2X(JDBCServer2x)       | This role can be deployed on the Master node only.                            | ``-``                                                                                                                                   |
   |             | -  Depends on Hive.      |                          |                                                                               |                                                                                                                                         |
   |             | -  Depends on ZooKeeper. |                          | Number of role instances to be deployed: 2 to 10                              |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   |             |                          | JH2X(JobHistory2x)       | This role can be deployed on the Master node only.                            | ``-``                                                                                                                                   |
   |             |                          |                          |                                                                               |                                                                                                                                         |
   |             |                          |                          | Number of role instances to be deployed: 2                                    |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   |             |                          | SR2X(SparkResource2x)    | This role can be deployed on the Master node only.                            | ``-``                                                                                                                                   |
   |             |                          |                          |                                                                               |                                                                                                                                         |
   |             |                          |                          | Number of role instances to be deployed: 2 to 50                              |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   |             |                          | IS2X(IndexServer2x)      | (Optional) This role can be deployed on the Master node only.                 | ``-``                                                                                                                                   |
   |             |                          |                          |                                                                               |                                                                                                                                         |
   |             |                          |                          | Number of role instances to be deployed: 0 to 2, with the step size of 2      |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   | HBase       | Depends on Hadoop.       | HM(HMaster)              | This role can be deployed on the Master node only.                            | ``-``                                                                                                                                   |
   |             |                          |                          |                                                                               |                                                                                                                                         |
   |             |                          |                          | Number of role instances to be deployed: 2                                    |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   |             |                          | TS(ThriftServer)         | This role can be deployed on all nodes.                                       | ``-``                                                                                                                                   |
   |             |                          |                          |                                                                               |                                                                                                                                         |
   |             |                          |                          | Number of role instances to be deployed: 0 to 10,000                          |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   |             |                          | RT(RESTServer)           | This role can be deployed on all nodes.                                       | ``-``                                                                                                                                   |
   |             |                          |                          |                                                                               |                                                                                                                                         |
   |             |                          |                          | Number of role instances to be deployed: 0 to 10,000                          |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   |             |                          | RS(RegionServer)         | This role can be deployed on all nodes.                                       | ``-``                                                                                                                                   |
   |             |                          |                          |                                                                               |                                                                                                                                         |
   |             |                          |                          | Number of role instances to be deployed: 3 to 10,000                          |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   |             |                          | TS1(Thrift1Server)       | This role can be deployed on all nodes.                                       | If the Hue service is installed in a cluster and HBase needs to be used on the Hue web UI, install this instance for the HBase service. |
   |             |                          |                          |                                                                               |                                                                                                                                         |
   |             |                          |                          | Number of role instances to be deployed: 0 to 10,000                          |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   | Hive        | -  Depends on Hadoop.    | MS(MetaStore)            | This role can be deployed on the Master node only.                            | ``-``                                                                                                                                   |
   |             | -  Depends on DBService. |                          |                                                                               |                                                                                                                                         |
   |             |                          |                          | Number of role instances to be deployed: 2 to 10                              |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   |             |                          | WH (WebHCat)             | This role can be deployed on the Master node only.                            | ``-``                                                                                                                                   |
   |             |                          |                          |                                                                               |                                                                                                                                         |
   |             |                          |                          | Number of role instances to be deployed: 1 to 10                              |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   |             |                          | HS(HiveServer)           | This role can be deployed on the Master node only.                            | ``-``                                                                                                                                   |
   |             |                          |                          |                                                                               |                                                                                                                                         |
   |             |                          |                          | Number of role instances to be deployed: 2 to 80                              |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   | Hue         | Depends on DBService.    | H(Hue)                   | This role can be deployed on the Master node only.                            | ``-``                                                                                                                                   |
   |             |                          |                          |                                                                               |                                                                                                                                         |
   |             |                          |                          | Number of role instances to be deployed: 2                                    |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   | Sqoop       | Depends on Hadoop.       | SC(SqoopClient)          | This role can be deployed on all nodes.                                       | ``-``                                                                                                                                   |
   |             |                          |                          |                                                                               |                                                                                                                                         |
   |             |                          |                          | Number of role instances to be deployed: 1 to 10,000                          |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   | Kafka       | Depends on ZooKeeper.    | B(Broker)                | This role can be deployed on all nodes.                                       | ``-``                                                                                                                                   |
   |             |                          |                          |                                                                               |                                                                                                                                         |
   |             |                          |                          | Number of role instances to be deployed: 3 to 10,000                          |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   | Flume       | ``-``                    | MS(MonitorServer)        | This role can be deployed on the Master node only.                            | ``-``                                                                                                                                   |
   |             |                          |                          |                                                                               |                                                                                                                                         |
   |             |                          |                          | Number of role instances to be deployed: 1 to 2                               |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   |             |                          | F(Flume)                 | This role can be deployed on all nodes.                                       | A non-Master node group with this role assigned is considered as a Core node.                                                           |
   |             |                          |                          |                                                                               |                                                                                                                                         |
   |             |                          |                          | Number of role instances to be deployed: 1 to 10,000                          |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   | Tez         | -  Depends on Hadoop.    | TUI(TezUI)               | This role can be deployed on the Master node only.                            | ``-``                                                                                                                                   |
   |             | -  Depends on DBService. |                          |                                                                               |                                                                                                                                         |
   |             | -  Depends on ZooKeeper. |                          | Number of role instances to be deployed: 1 to 2                               |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   | Flink       | -  Depends on ZooKeeper. | FR(FlinkResource)        | This role can be deployed on all nodes.                                       | ``-``                                                                                                                                   |
   |             | -  Depends on Hadoop.    |                          |                                                                               |                                                                                                                                         |
   |             |                          |                          | Number of role instances to be deployed: 1 to 10,000                          |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   |             |                          | FS(FlinkServer)          | This role can be deployed on all nodes.                                       | ``-``                                                                                                                                   |
   |             |                          |                          |                                                                               |                                                                                                                                         |
   |             |                          |                          | Number of role instances to be deployed: 0 to 2                               |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   | Oozie       | -  Depends on Hadoop.    | O(oozie)                 | This role can be deployed on the Master node only.                            | ``-``                                                                                                                                   |
   |             | -  Depends on DBService. |                          |                                                                               |                                                                                                                                         |
   |             | -  Depends on ZooKeeper. |                          | Number of role instances to be deployed: 2                                    |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   | Impala      | -  Depends on Hadoop.    | StateStore               | This role can be deployed on the Master node only.                            | ``-``                                                                                                                                   |
   |             | -  Depends on Hive.      |                          |                                                                               |                                                                                                                                         |
   |             | -  Depends on DBService. |                          | Number of role instances to be deployed: 1                                    |                                                                                                                                         |
   |             | -  Depends on ZooKeeper. |                          |                                                                               |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   |             |                          | Catalog                  | This role can be deployed on the Master node only.                            | ``-``                                                                                                                                   |
   |             |                          |                          |                                                                               |                                                                                                                                         |
   |             |                          |                          | Number of role instances to be deployed: 1                                    |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   |             |                          | Impalad                  | This role can be deployed on all nodes.                                       | ``-``                                                                                                                                   |
   |             |                          |                          |                                                                               |                                                                                                                                         |
   |             |                          |                          | Number of role instances to be deployed: 1 to 10,000                          |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   | Kudu        | ``-``                    | KuduMaster               | This role can be deployed on the Master node only.                            | ``-``                                                                                                                                   |
   |             |                          |                          |                                                                               |                                                                                                                                         |
   |             |                          |                          | Number of role instances to be deployed: 3 or 5                               |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   |             |                          | KuduTserver              | This role can be deployed on all nodes.                                       | ``-``                                                                                                                                   |
   |             |                          |                          |                                                                               |                                                                                                                                         |
   |             |                          |                          | Number of role instances to be deployed: 3 to 10,000                          |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   | Ranger      | Depends on DBService.    | RA(RangerAdmin)          | This role can be deployed on the Master node only.                            | ``-``                                                                                                                                   |
   |             |                          |                          |                                                                               |                                                                                                                                         |
   |             |                          |                          | Number of role instances to be deployed: 1 to 2                               |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   |             |                          | USC(UserSync)            | This role can be deployed on the Master node only.                            | ``-``                                                                                                                                   |
   |             |                          |                          |                                                                               |                                                                                                                                         |
   |             |                          |                          | Number of role instances to be deployed: 1                                    |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+
   |             |                          | TSC (TagSync)            | This role can be deployed on all nodes.                                       | ``-``                                                                                                                                   |
   |             |                          |                          |                                                                               |                                                                                                                                         |
   |             |                          |                          | Number of role instances to be deployed: 0 to 1                               |                                                                                                                                         |
   +-------------+--------------------------+--------------------------+-------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------+

.. |image1| image:: /_static/images/en-us_image_0000001296217772.png
