:original_name: mrs_08_00661.html

.. _mrs_08_00661:

Manager Basic Principles
========================

Overview
--------

Manager is the O&M management system of MRS and provides unified cluster management capabilities for services deployed in clusters.

Manager provides functions such as performance monitoring, alarms, user management, permission management, auditing, service management, health check, and log collection.

Architecture
------------

:ref:`Figure 1 <mrs_08_00661__fig17686133154020>` shows the overall logical architecture of MRS Manager.

.. _mrs_08_00661__fig17686133154020:

.. figure:: /_static/images/en-us_image_0000001349390649.png
   :alt: **Figure 1** Manager logical architecture

   **Figure 1** Manager logical architecture

Manager consists of OMS and OMA.

-  OMS: serves as management node in the O&M system. There are two OMS nodes deployed in active/standby mode.
-  OMA: managed node in the O&M system. Generally, there are multiple OMA nodes.

:ref:`Figure 1 <mrs_08_00661__fig17686133154020>` describes the modules shown in :ref:`Table 1 <mrs_08_00661__table3395731715355>`.

.. _mrs_08_00661__table3395731715355:

.. table:: **Table 1** Service module description

   +-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Module                            | Description                                                                                                                                                                                                                                                              |
   +===================================+==========================================================================================================================================================================================================================================================================+
   | Web Service                       | A web service deployed under Tomcat, providing HTTPS API of Manager. It is used to access Manager through the web browser. In addition, it provides the northbound access capability based on the Syslog and SNMP protocols.                                             |
   +-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | OMS                               | Management node of the O&M system. Generally, there are two OMS nodes that work in active/standby mode.                                                                                                                                                                  |
   +-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | OMA                               | Managed node in the O&M system. Generally, there are multiple OMA nodes.                                                                                                                                                                                                 |
   +-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Controller                        | The control center of Manager. It can converge information from all nodes in the cluster and display it to administrators, as well as receive from administrators, and synchronize information to all nodes in the cluster according to the operation instruction range. |
   |                                   |                                                                                                                                                                                                                                                                          |
   |                                   | Control process of Manager. It implements various management actions:                                                                                                                                                                                                    |
   |                                   |                                                                                                                                                                                                                                                                          |
   |                                   | #. The web service delivers various management actions (such as installation, service startup and stop, and configuration modification) to Controller.                                                                                                                   |
   |                                   | #. Controller decomposes the command and delivers the action to each Node Agent, for example, starting a service involves multiple roles and instances.                                                                                                                  |
   |                                   | #. Controller is responsible for monitoring the implementation of each action.                                                                                                                                                                                           |
   +-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Node Agent                        | Node Agent exists on each cluster node and is an enabler of Manager on a single node.                                                                                                                                                                                    |
   |                                   |                                                                                                                                                                                                                                                                          |
   |                                   | -  Node Agent represents all the components deployed on the node to interact with Controller, implementing convergence from multiple nodes of a cluster to a single node.                                                                                                |
   |                                   | -  Node Agent enables Controller to perform all operations on the components deployed on the node. It allows Controller functions to be implemented.                                                                                                                     |
   |                                   |                                                                                                                                                                                                                                                                          |
   |                                   | Node Agent sends heartbeat messages to Controller at an interval of 3 seconds. The interval cannot be configured.                                                                                                                                                        |
   +-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | IAM                               | Records audit logs. Each non-query operation on the Manager UI has a related audit log.                                                                                                                                                                                  |
   +-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | PMS                               | The performance monitoring module. It collects the performance monitoring data on each OMA and provides the query function.                                                                                                                                              |
   +-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | CEP                               | Convergence function module. For example, the used disk space of all OMAs is collected as a performance indicator.                                                                                                                                                       |
   +-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | FMS                               | Alarm module. It collects and queries alarms on each OMA.                                                                                                                                                                                                                |
   +-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | OMM Agent                         | Agent for performance monitoring and alarm reporting on the OMA. It collects performance monitoring data and alarm data on Agent Node.                                                                                                                                   |
   +-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | CAS                               | Unified authentication center. When a user logs in to the web service, CAS authenticates the login. The browser automatically redirects the user to the CAS through URLs.                                                                                                |
   +-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | AOS                               | Permission management module. It manages the permissions of users and user groups.                                                                                                                                                                                       |
   +-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ACS                               | User and user group management module. It manages users and user groups to which users belong.                                                                                                                                                                           |
   +-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Kerberos                          | LDAP is deployed in OMS and a cluster, respectively.                                                                                                                                                                                                                     |
   |                                   |                                                                                                                                                                                                                                                                          |
   |                                   | -  OMS Kerberos provides the single sign-on (SSO) and authentication between Controller and Node Agent.                                                                                                                                                                  |
   |                                   | -  Kerberos in the cluster provides the user security authentication function for components. The service name is **KrbServer**, which contains two role instances:                                                                                                      |
   |                                   |                                                                                                                                                                                                                                                                          |
   |                                   |    -  KerberosServer: is an authentication server that provides security authentication for MRS.                                                                                                                                                                         |
   |                                   |    -  KerberosAdmin: manages processes of Kerberos users.                                                                                                                                                                                                                |
   +-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Ldap                              | LDAP is deployed in OMS and a cluster, respectively.                                                                                                                                                                                                                     |
   |                                   |                                                                                                                                                                                                                                                                          |
   |                                   | -  OMS LDAP provides data storage for user authentication.                                                                                                                                                                                                               |
   |                                   | -  The LDAP in the cluster functions as the backup of the OMS LDAP. The service name is **LdapServer** and the role instance is **SlapdServer**.                                                                                                                         |
   +-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Database                          | Manager database used to store logs and alarms.                                                                                                                                                                                                                          |
   +-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | HA                                | HA management module that manages the active and standby OMSs.                                                                                                                                                                                                           |
   +-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | NTP Server                        | It synchronizes the system clock of each node in the cluster.                                                                                                                                                                                                            |
   |                                   |                                                                                                                                                                                                                                                                          |
   | NTP Client                        |                                                                                                                                                                                                                                                                          |
   +-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
