:original_name: mrs_01_0239.html

.. _mrs_01_0239:

Configuring Syslog Northbound Interface Parameters
==================================================

Scenario
--------

You can configure the northbound interface so that alarms generated on MRS Manager can be reported to your monitoring O&M system using Syslog.

.. important::

   If the Syslog protocol is not encrypted, data may be stolen.

Prerequisites
-------------

The ECS corresponding to the server must be in the same VPC as the Master node of the MRS cluster, and the Master node can access the IP address and specified port of the server.

Procedure
---------

#. On MRS Manager, click **System**.

#. In **Configuration**, click **Configure Syslog** under **Monitoring and Alarm**.

   The **Syslog Service** is disabled by default. Click the switch to enable the Syslog service.

#. Set the interconnection parameters listed in :ref:`Table 1 <mrs_01_0239__en-us_topic_0035209606_table27202707183556>`.

   .. _mrs_01_0239__en-us_topic_0035209606_table27202707183556:

   .. table:: **Table 1** Syslog parameters

      +---------------------------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Area                      | Parameter                       | Description                                                                                                                                                                                                                                                                                               |
      +===========================+=================================+===========================================================================================================================================================================================================================================================================================================+
      | Syslog Protocol           | Service IP Address              | Specifies the IP address of the interconnection server.                                                                                                                                                                                                                                                   |
      +---------------------------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      |                           | Server Port                     | Specifies the port number for interconnection.                                                                                                                                                                                                                                                            |
      +---------------------------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      |                           | Protocol                        | Specifies the protocol type. The options are as follows:                                                                                                                                                                                                                                                  |
      |                           |                                 |                                                                                                                                                                                                                                                                                                           |
      |                           |                                 | -  **TCP**                                                                                                                                                                                                                                                                                                |
      |                           |                                 | -  **UDP**                                                                                                                                                                                                                                                                                                |
      +---------------------------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      |                           | Severity                        | Specifies the severity of the reported message. The options are as follows:                                                                                                                                                                                                                               |
      |                           |                                 |                                                                                                                                                                                                                                                                                                           |
      |                           |                                 | -  **Informational**                                                                                                                                                                                                                                                                                      |
      |                           |                                 | -  **Emergency**                                                                                                                                                                                                                                                                                          |
      |                           |                                 | -  **Alert**                                                                                                                                                                                                                                                                                              |
      |                           |                                 | -  **Critical**                                                                                                                                                                                                                                                                                           |
      |                           |                                 | -  **Error**                                                                                                                                                                                                                                                                                              |
      |                           |                                 | -  **Warning**                                                                                                                                                                                                                                                                                            |
      |                           |                                 | -  **Notice**                                                                                                                                                                                                                                                                                             |
      |                           |                                 | -  **Debug**                                                                                                                                                                                                                                                                                              |
      +---------------------------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      |                           | Facility                        | Specifies the module where the log is generated.                                                                                                                                                                                                                                                          |
      +---------------------------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      |                           | Identifier                      | Specifies the product ID. The default value is **MRS Manager**.                                                                                                                                                                                                                                           |
      +---------------------------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Report Message            | Report Format                   | Specifies the message format of the alarm report. For details, see help information on the web page.                                                                                                                                                                                                      |
      +---------------------------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      |                           | Alarm Status                    | Specifies the type of the alarm to be reported.                                                                                                                                                                                                                                                           |
      |                           |                                 |                                                                                                                                                                                                                                                                                                           |
      |                           |                                 | -  **Fault**: indicates that the Syslog alarm message is reported when MRS Manager generates an alarm.                                                                                                                                                                                                    |
      |                           |                                 | -  **Clear**: indicates that a Syslog alarm message is reported when an alarm on MRS Manager is cleared.                                                                                                                                                                                                  |
      |                           |                                 | -  **Event**: indicates that the Syslog alarm message is reported when MRS Manager generates an event.                                                                                                                                                                                                    |
      +---------------------------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      |                           | Report Alarm Severity           | Specifies the level of the alarm to be reported. The value can be **Suggestion**, **Minor**, **Major**, and **Critical**.                                                                                                                                                                                 |
      +---------------------------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Uncleared Alarm Reporting | Periodic Uncleared Alarm Report | Specifies whether uncleared alarms are reported periodically. By default, the switch of **Periodic Uncleared Alarm Reporting** is disabled. You can click the switch to enable it.                                                                                                                        |
      +---------------------------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      |                           | Report Interval (min)           | Specifies the interval for periodically reporting uncleared alarms to the remote Syslog service. This parameter is valid only when **Periodic Uncleared Alarm Reporting** switch is enabled. The unit is minute. The default value is **15**. The value ranges from 5 minutes to one day (1,440 minutes). |
      +---------------------------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Heartbeat Settings        | Heartbeat Report                | Specifies whether to periodically report Syslog heartbeat messages. By default, the switch of **Periodic Uncleared Alarm Reporting** is disabled. You can click the switch to enable it.                                                                                                                  |
      +---------------------------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      |                           | Heartbeat Period (min)          | Specifies the interval for periodically reporting heartbeat messages. This parameter is valid only when **Heartbeat Report** switch is enabled. The unit is minute. The default value is **15**. The value ranges from 1 to 60.                                                                           |
      +---------------------------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      |                           | Heartbeat Packet                | Specifies the content of the reported heartbeat message. This parameter is enabled when **Heartbeat Report** is enabled. The value can contain a maximum of 256 characters, including digits, letters, underscores (_), vertical bars (|), colons (:), spaces, commas (,), and periods (.).               |
      +---------------------------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

   .. note::

      After the periodic heartbeat packet function is enabled, packets may be interrupted during automatic recovery of some cluster error tolerance (for example, active/standby management node switchover). In this case, wait for automatic recovery.

#. Click **OK** to complete the settings.
