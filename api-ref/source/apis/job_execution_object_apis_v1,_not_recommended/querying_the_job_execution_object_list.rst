:original_name: mrs_02_0050.html

.. _mrs_02_0050:

Querying the Job Execution Object List
======================================

Function
--------

This API is used to query the job execution object list. This API is compatible with Sahara.

URI
---

-  Format

   GET /v1.1/{project_id}/job-executions

-  Parameter description

   .. table:: **Table 1** URI parameter description

      +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Parameter             | Mandatory             | Description                                                                                                                                              |
      +=======================+=======================+==========================================================================================================================================================+
      | project_id            | Yes                   | Project ID. For details on how to obtain the project ID, see :ref:`Obtaining a Project ID <mrs_02_0011>`.                                                |
      +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+
      | limit                 | No                    | Maximum number of objects in response data                                                                                                               |
      |                       |                       |                                                                                                                                                          |
      |                       |                       | Value range: 1 to 1073741822                                                                                                                             |
      +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+
      | marker                | No                    | Job execution ID                                                                                                                                         |
      |                       |                       |                                                                                                                                                          |
      |                       |                       | Query the job execution list, and select one job execution ID as the marker. The ID is the ID of the last element in the list that will not be returned. |
      +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+
      | sort_by               | No                    | Sort field                                                                                                                                               |
      |                       |                       |                                                                                                                                                          |
      |                       |                       | A hyphen (-) before the sort field indicates to sort in descending order. Example:                                                                       |
      |                       |                       |                                                                                                                                                          |
      |                       |                       | -  **sort_by=name** indicates to sort by **name** in ascending order.                                                                                    |
      |                       |                       | -  **sort_by=-name** indicates to sort by **name** in descending order.                                                                                  |
      +-----------------------+-----------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+

Request
-------

**Request parameters**

None.

Response
--------

.. table:: **Table 2** Response parameter description

   +-----------------------+-----------------------+--------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                        |
   +=======================+=======================+====================================================================+
   | markers               | Object                | Markers object                                                     |
   |                       |                       |                                                                    |
   |                       |                       | For details, see :ref:`Table 3 <mrs_02_0050__table2264538214423>`. |
   +-----------------------+-----------------------+--------------------------------------------------------------------+
   | job_executions        | Array                 | Job execution list                                                 |
   |                       |                       |                                                                    |
   |                       |                       | For details, see :ref:`Table 4 <mrs_02_0050__table2078214316114>`. |
   +-----------------------+-----------------------+--------------------------------------------------------------------+

.. _mrs_02_0050__table2264538214423:

.. table:: **Table 3** **markers** parameter description

   ========= ====== ===========================
   Parameter Type   Description
   ========= ====== ===========================
   prev      String Marker on the previous page
   next      String Marker on the next page
   ========= ====== ===========================

.. _mrs_02_0050__table2078214316114:

.. table:: **Table 4** **job_executions** parameter description

   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                                                                                     |
   +=======================+=======================+=================================================================================================================================================+
   | job_configs           | Object                | Key-value pair set for saving job running configurations For more parameter description, see :ref:`Table 5 <mrs_02_0050__table30347504144155>`. |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------+
   | is_protected          | Bool                  | Whether a job execution object is protected                                                                                                     |
   |                       |                       |                                                                                                                                                 |
   |                       |                       | -  true                                                                                                                                         |
   |                       |                       | -  false                                                                                                                                        |
   |                       |                       |                                                                                                                                                 |
   |                       |                       | The current version does not support this function.                                                                                             |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------+
   | input_id              | String                | Input data source ID of a job execution object                                                                                                  |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------+
   | job_id                | String                | Job ID                                                                                                                                          |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------+
   | cluster_id            | String                | Cluster ID                                                                                                                                      |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------+
   | created_at            | String                | Job execution object creation time                                                                                                              |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------+
   | end_time              | String                | Job end time                                                                                                                                    |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------+
   | output_id             | String                | Output data source ID of a job execution object                                                                                                 |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------+
   | is_public             | Bool                  | Whether a job execution object is public                                                                                                        |
   |                       |                       |                                                                                                                                                 |
   |                       |                       | -  true                                                                                                                                         |
   |                       |                       | -  false                                                                                                                                        |
   |                       |                       |                                                                                                                                                 |
   |                       |                       | The current version does not support this function.                                                                                             |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------+
   | updated_at            | String                | Job execution object update time                                                                                                                |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------+
   | return_code           | String                | Response code after job execution                                                                                                               |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------+
   | data_source_urls      | Object                | Data source URL of a job execution object                                                                                                       |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------+
   | tenant_id             | String                | Project ID. For details on how to obtain the project ID, see :ref:`Obtaining a Project ID <mrs_02_0011>`.                                       |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------+
   | start_time            | String                | Job start time                                                                                                                                  |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------+
   | Id                    | String                | Job execution object ID                                                                                                                         |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------+
   | engine_job_id         | String                | Workflow ID of Oozie                                                                                                                            |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------+
   | oozie_job_id          | String                | Workflow ID returned by Oozie                                                                                                                   |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------+
   | info                  | String                | Key-value pair set, containing job running information returned by Oozie                                                                        |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------+

.. _mrs_02_0050__table30347504144155:

.. table:: **Table 5** **job_configs** parameter description

   ========= ====== =======================================
   Parameter Type   Description
   ========= ====== =======================================
   configs   Object Key-value pair set configured for a job
   args      Array  List of arguments
   params    Object Key-value pair set for running a job
   ========= ====== =======================================

Example
-------

-  Example request

   .. code-block:: text

      GET /v1.1/{project_id}/job-executions?limit=2&sort_by=id&marker=839244be-c471-469b-80c0-6f63e376bcbc

-  Example response

   .. code-block::

      {
          "markers": {
              "prev": "821c8924-5249-4dd8-8069-b8d425f3f54a",
              "next": null
          },
          "job_executions": [
              {
                  "created_at": "2017-06-22T06:24:57",
                  "updated_at": "2017-06-22T06:24:59",
                  "id": "84900772-8807-4ddc-9484-f719fa43711f",
                  "tenant_id": "5a3314075bfa49b9ae360f4ecd333695",
                  "job_id": "",
                  "start_time": "2017-06-22T06:24:49",
                  "end_time": "2017-06-22T06:25:02",
                  "cluster_id": "33dff020-7f96-4270-9c3a-88b99627f6e2",
                  "oozie_job_id": null,
                  "return_code": null,
                  "input_id": null,
                  "output_id": null,
                  "is_protected": false,
                  "is_public": null,
                  "engine_job_id": null,
                  "job_configs": null,
                  "data_source_urls": null,
                  "info": null
              },
              {
                  "created_at": "2017-06-22T06:23:51",
                  "updated_at": "2017-06-22T06:23:51",
                  "id": "852042ea-a32c-424b-aacf-df2e6d6642b5",
                  "tenant_id": "5a3314075bfa49b9ae360f4ecd333695",
                  "job_id": "",
                  "start_time": "2017-06-22T06:23:51",
                  "end_time": null,
                  "cluster_id": "33dff020-7f96-4270-9c3a-88b99627f6e2",
                  "oozie_job_id": null,
                  "return_code": null,
                  "input_id": null,
                  "output_id": null,
                  "is_protected": false,
                  "is_public": null,
                  "engine_job_id": null,
                  "job_configs": null,
                  "data_source_urls": null,
                  "info": null
              }
          ]
      }

Status Code
-----------

:ref:`Table 6 <mrs_02_0050__table1584477916050>` describes the status code of this API.

.. _mrs_02_0050__table1584477916050:

.. table:: **Table 6** Status code

   =========== ======================================================
   Status Code Description
   =========== ======================================================
   200         The job execution object list is queried successfully.
   =========== ======================================================

For the description about error status codes, see :ref:`Status Codes <mrs_02_0015>`.
